[{"path":"/articles/umapgp-vignette.html","id":"rationale","dir":"Articles","previous_headings":"","what":"Rationale","title":"umapgp-vignette","text":"Uniform Manifold Approximation Projection (UMAP) preserves local structure grouping neighboring data points together provides informative visualization heterogeneity dataset. However, one wants understand relationship clusters data points, can troublesome since UMAP warrant inter-cluster distances preserved correctly. address shortcoming, created package, UMAPgp preserves global structure manifold learning algorithms without losing finer details. developed package suited process small datasets approximately 5,000 data points.","code":""},{"path":"/articles/umapgp-vignette.html","id":"significance-innovation","dir":"Articles","previous_headings":"","what":"Significance/ Innovation","title":"umapgp-vignette","text":"Preservation global structure manifold learning algorithms ensure UMAP represents big-picture losing fine details hence, better visualization. Based project results, created R package computes Uniform Manifold Approximation Projection (UMAP) preserving global structures.","code":""},{"path":"/articles/umapgp-vignette.html","id":"addressing-aim-1-and-aim-2","dir":"Articles","previous_headings":"Significance/ Innovation","what":"Addressing Aim 1 and Aim 2","title":"umapgp-vignette","text":"section, shall load required packages import dataset ‘Iris’ shall used purpose project. work towards visualizing dataset alongwith preprocessing perform UMAP. Additionally, shall create UMAP plot check distances shape clusters preserved. shall address Aim 1 Aim 2.","code":""},{"path":"/articles/umapgp-vignette.html","id":"loading-packages","dir":"Articles","previous_headings":"Significance/ Innovation > Addressing Aim 1 and Aim 2","what":"Loading packages","title":"umapgp-vignette","text":"","code":"library(umap) library(tidyverse) library(magrittr) library(UMAPgp)"},{"path":"/articles/umapgp-vignette.html","id":"importing-dataset","dir":"Articles","previous_headings":"Significance/ Innovation > Addressing Aim 1 and Aim 2","what":"Importing dataset","title":"umapgp-vignette","text":"","code":"data(\"iris\")  iris %>% slice_head(n=5) #>   Sepal.Length Sepal.Width Petal.Length Petal.Width Species #> 1          5.1         3.5          1.4         0.2  setosa #> 2          4.9         3.0          1.4         0.2  setosa #> 3          4.7         3.2          1.3         0.2  setosa #> 4          4.6         3.1          1.5         0.2  setosa #> 5          5.0         3.6          1.4         0.2  setosa"},{"path":"/articles/umapgp-vignette.html","id":"a-plot-of-variables-of-interest","dir":"Articles","previous_headings":"Significance/ Innovation > Addressing Aim 1 and Aim 2","what":"A plot of variables of interest","title":"umapgp-vignette","text":"","code":"ggplot(data = iris, aes(x = Petal.Length, y = Petal.Width))+   xlab(\"Petal Length\")+   ylab(\"Petal Width\") +   geom_point(aes(color = Species,shape=Species))+   geom_smooth(method='lm')+   ggtitle(\"Iris Petal Length vs Width\") #> `geom_smooth()` using formula 'y ~ x'"},{"path":"/articles/umapgp-vignette.html","id":"preprocessing-the-data-for-umap","dir":"Articles","previous_headings":"Significance/ Innovation > Addressing Aim 1 and Aim 2","what":"Preprocessing the data for UMAP","title":"umapgp-vignette","text":"","code":"# Adding a unique row ID iris <- iris %>%    mutate(ID=row_number()) # Creating a dataframe with all categorical variables with the unique row ID iris_meta <- iris %>%   select(ID, Species)"},{"path":"/articles/umapgp-vignette.html","id":"performing-umap","dir":"Articles","previous_headings":"Significance/ Innovation > Addressing Aim 1 and Aim 2","what":"Performing UMAP","title":"umapgp-vignette","text":"","code":"set.seed(142) umap_fit <- iris %>%   select(where(is.numeric)) %>%   column_to_rownames(\"ID\") %>%   scale() %>%    umap() umap_df <- umap_fit$layout %>%   as.data.frame()%>%   rename(UMAP1=\"V1\",          UMAP2=\"V2\") %>%   mutate(ID=row_number())%>%   inner_join(iris, by=\"ID\")"},{"path":"/articles/umapgp-vignette.html","id":"umap-plot","dir":"Articles","previous_headings":"Significance/ Innovation > Addressing Aim 1 and Aim 2","what":"UMAP Plot","title":"umapgp-vignette","text":"","code":"original_umap_plot <- umap_df %>%   ggplot(aes(x = UMAP1,               y = UMAP2,               color = Species))+   geom_point()+   labs(x = \"UMAP1\",        y = \"UMAP2\",       subtitle = \"UMAP Plot\") original_umap_plot"},{"path":"/articles/umapgp-vignette.html","id":"checking-aim-1","dir":"Articles","previous_headings":"Significance/ Innovation","what":"Checking Aim 1","title":"umapgp-vignette","text":"quantify global structure establishing preservation distances clusters.","code":""},{"path":"/articles/umapgp-vignette.html","id":"correlation-of-original-with-reconstructed-distances-between-data-points","dir":"Articles","previous_headings":"Significance/ Innovation > Checking Aim 1","what":"Correlation of original with reconstructed distances between data points","title":"umapgp-vignette","text":"Null hypothesis:- correlation original reconstructed distances data points. Alternative hypothesis:- correlation original reconstructed distances data points. result shows p-value less 0.05 hence reject null hypothesis conclude correlation original reconstructed distances data points.","code":"# Pearson is most appropriate for measurements taken from an interval scale # Spearman is more appropriate for measurements taken from ordinal scales. cor.test(iris$Petal.Length, umap_df$UMAP1, method = 'pearson') #>  #>  Pearson's product-moment correlation #>  #> data:  iris$Petal.Length and umap_df$UMAP1 #> t = -4.251, df = 148, p-value = 3.752e-05 #> alternative hypothesis: true correlation is not equal to 0 #> 95 percent confidence interval: #>  -0.4655218 -0.1790757 #> sample estimates: #>        cor  #> -0.3298703 cor.test(iris$Petal.Width, umap_df$UMAP2, method = 'pearson') #>  #>  Pearson's product-moment correlation #>  #> data:  iris$Petal.Width and umap_df$UMAP2 #> t = 19.127, df = 148, p-value < 2.2e-16 #> alternative hypothesis: true correlation is not equal to 0 #> 95 percent confidence interval: #>  0.7904117 0.8844487 #> sample estimates: #>       cor  #> 0.8437884"},{"path":"/articles/umapgp-vignette.html","id":"preservation-of-pairwise-mahalanobis-distances-between-clusters","dir":"Articles","previous_headings":"Significance/ Innovation > Checking Aim 1","what":"Preservation of pairwise Mahalanobis distances between clusters","title":"umapgp-vignette","text":"mahalanobis distance clusters 3.7158. therefore aim achieve mahalanobis Distance 1 lower data point right among benchmark points.","code":"g1 <- iris[3:4] g2 <- umap_df[1:2] D.sq <- function (g1, g2) {     dbar <- as.vector(colMeans(g1) - colMeans(g2))     S1 <- cov(g1)     S2 <- cov(g2)     n1 <- nrow(g1)     n2 <- nrow(g2)     V <- as.matrix((1/(n1 + n2 - 2)) * (((n1 - 1) * S1) + ((n2 - 1) * S2)))     D.sq <- t(dbar) %*% solve(V) %*% dbar     res <- list()     res$D.sq <- D.sq     res$V <- V     res } D.sq(g1,g2) #> $D.sq #>          [,1] #> [1,] 4.738184 #>  #> $V #>              Petal.Length Petal.Width #> Petal.Length     4.084087   -3.368446 #> Petal.Width     -3.368446   17.213024"},{"path":"/articles/umapgp-vignette.html","id":"checking-aim-2","dir":"Articles","previous_headings":"Significance/ Innovation","what":"Checking Aim 2","title":"umapgp-vignette","text":"investigate preservation shapes clusters another measure global structure.","code":""},{"path":"/articles/umapgp-vignette.html","id":"constructing-the-bounding-boxes","dir":"Articles","previous_headings":"Significance/ Innovation > Checking Aim 2","what":"Constructing the bounding boxes","title":"umapgp-vignette","text":"","code":"# The bounding boxes around the original clusters ggplot() +   geom_point(data = iris, aes(x = Petal.Length, y = Petal.Width, color = Species))+   xlab(\"Petal Length\")+   ylab(\"Petal Width\") +   ggtitle(\"Iris Petal Length vs Width\") +      geom_tile() +   geom_text() +   geom_rect(aes(xmin = 0.8, xmax = 2.2, ymin = 0, ymax = 0.8),                fill = \"transparent\", color = \"red\", size = 1.5) +      geom_rect(aes(xmin = 2.7, xmax = 5.2, ymin = 0.8, ymax = 1.9),                fill = \"transparent\", color = \"green\", size = 1.5) +       geom_rect(aes(xmin = 4.4, xmax = 7.1, ymin = 1.2, ymax = 2.7),                fill = \"transparent\", color = \"blue\", size = 1.5) +   theme_bw()+   theme(legend.position = \"bottom\") # The bounding boxes around the reconstructed clusters ggplot() +   geom_point(data = umap_df, aes(x = UMAP1, y = UMAP2, color = Species)) +   labs(x = \"UMAP1\",        y = \"UMAP2\",        subtitle = \"UMAP Plot\")+   geom_tile() +   geom_text() +   geom_rect(aes(xmin = -5, xmax = 0.0, ymin = -9, ymax = -4),                fill = \"transparent\", color = \"red\", size = 1.5) +      geom_rect(aes(xmin = -2.5, xmax = 2.4, ymin = 0.5, ymax = 5.5),                fill = \"transparent\", color = \"green\", size = 1.5) +       geom_rect(aes(xmin = -2.0, xmax = 4.7, ymin = 0.6, ymax = 5.5),                fill = \"transparent\", color = \"blue\", size = 1.5) +   theme_bw()+   theme(legend.position = \"bottom\")"},{"path":"/articles/umapgp-vignette.html","id":"pearson-correlation-coefficient-between-the-sizes-of-the-bounding-boxes","dir":"Articles","previous_headings":"Significance/ Innovation > Checking Aim 2","what":"Pearson correlation coefficient between the sizes of the bounding boxes","title":"umapgp-vignette","text":"Null hypothesis:- correlation original reconstructed shapes clusters. Alternative hypothesis:- correlation original reconstructed shapes clusters. result shows p-value 0.2809 0.6069 greater 0.05 hence fail reject null hypothesis conclude correlation original reconstructed clusters. therefore aim achieve correlation original reconstructed clusters. current UMAP package minimum distance 0.5 n_neighbors 15. UMAP package contains minimum distance 0.3 n_neighbors 70. package achieves preservation global structure Uniform Manifold Approximation Projection (UMAP) :- Attaining mahalanobis Distance 1 data point right among benchmark points. Accomplishing correlation original reconstructed clusters.","code":"originalHeight<- c(0.8, 1.1, 1.5) reconstructedHeight<-c(5,5,4.9) cor.test(originalHeight, reconstructedHeight, method = 'pearson') #>  #>  Pearson's product-moment correlation #>  #> data:  originalHeight and reconstructedHeight #> t = -2.117, df = 1, p-value = 0.2809 #> alternative hypothesis: true correlation is not equal to 0 #> sample estimates: #>        cor  #> -0.9041944 originalWidth<-c(1.4,2.5,2.7) reconstructedWidth<-c(5,4.9,6.7) cor.test(originalWidth, reconstructedWidth, method = 'pearson') #>  #>  Pearson's product-moment correlation #>  #> data:  originalWidth and reconstructedWidth #> t = 0.71014, df = 1, p-value = 0.6069 #> alternative hypothesis: true correlation is not equal to 0 #> sample estimates: #>       cor  #> 0.5789983"},{"path":"/articles/umapgp-vignette.html","id":"demonstration-of-how-to-use-the-function-umapgp","dir":"Articles","previous_headings":"","what":"Demonstration of how to use the function ‘UMAPgp’","title":"umapgp-vignette","text":"section shall involve defining function parameters passed. shall preprocess dataset UMAP create dataframe categorical variables unique row ID. shall perform UMAP create UMAP plot demonstrate practical usage function UMAPgp.","code":"# Defining the function and the parameters to be passed umapgp<-function(var,data){ # Pre-processing the dataset for UMAP   data <- data %>%     mutate(ID=row_number()) # Creating a dataframe with all the categorical variables with the unique row ID   data_meta <- data %>%     select(ID, var) # Performing UMAP   set.seed(142)   umap_fit <- data %>%     select(where(is.numeric)) %>%     column_to_rownames(\"ID\") %>%     scale() %>%     umap(n_neighbors=70,min_dist=0.3)   umap_df <- umap_fit$layout %>%     as.data.frame()%>%     rename(UMAP1=\"V1\",            UMAP2=\"V2\") %>%     mutate(ID=row_number())%>%     inner_join(data_meta, by=\"ID\")   umap_df$var<- data[, var] # Creating the UMAP Plot   umapplot<-umap_df %>%     ggplot(aes(x = UMAP1,                y = UMAP2,                color = var))+     geom_point()+     labs(x = \"UMAP1\",          y = \"UMAP2\",          subtitle = \"UMAP plot\")   return(umapplot) }"},{"path":"/articles/umapgp-vignette.html","id":"real-life-example","dir":"Articles","previous_headings":"","what":"Real-life example","title":"umapgp-vignette","text":"shall now use different dataset ‘birds’ apply newly developed package dataset demonstrate functionality umapgp. shall also draw comparisons UMAP plots created using umap umapgp functions.","code":""},{"path":"/articles/umapgp-vignette.html","id":"loading-the-dataset-and-creating-a-plot-of-variables-of-interest","dir":"Articles","previous_headings":"Real-life example","what":"Loading the dataset and creating a plot of variables of interest","title":"umapgp-vignette","text":"","code":"# Importing the dataset library(readr) ##checking and reading the data fpath <- system.file(\"extdata\",\"birds.csv\", package=\"UMAPgp\") birds<-read.csv(fpath) birds %>% slice_head(n=5) #>   id  huml humw ulnal ulnaw  feml femw  tibl tibw  tarl tarw           type #> 1  0 80.78 6.68 72.01  4.88 41.81 3.70  5.50 4.03 38.70 3.84 Swimming Birds #> 2  1 88.91 6.63 80.53  5.59 47.04 4.30 80.22 4.51 41.50 4.01 Swimming Birds #> 3  2 79.97 6.37 69.26  5.28 43.07 3.90 75.35 4.04 38.31 3.34 Swimming Birds #> 4  3 77.65 5.70 65.76  4.77 40.04 3.52 69.17 3.40 35.78 3.41 Swimming Birds #> 5  4 62.80 4.84 52.09  3.73 33.95 2.72 56.27 2.96 31.88 3.13 Swimming Birds  # A plot of variable of interest ggplot(data = birds, aes(x = huml, y = humw))+   xlab(\"Humurus Length\")+   ylab(\"Humurus Width\") +   geom_point(aes(color = type,shape=type))+   geom_smooth(method='lm')+   ggtitle(\"Birds Humurus Length vs Width\") #> `geom_smooth()` using formula 'y ~ x'"},{"path":"/articles/umapgp-vignette.html","id":"performing-umap-1","dir":"Articles","previous_headings":"Real-life example","what":"Performing UMAP","title":"umapgp-vignette","text":"","code":"## Preprocessing the data for UMAP # Adding a unique row ID birds <- birds %>%    mutate(id=row_number()) # Creating a dataframe with all categorical variables with the unique row ID Birds_meta <- birds %>%   select(id, type) ## Performing UMAP set.seed(142) umap_fit <- birds %>%   select(where(is.numeric)) %>%   column_to_rownames(\"id\") %>%   scale() %>%    umap() umap_df <- umap_fit$layout %>%   as.data.frame()%>%   rename(UMAP1=\"V1\",          UMAP2=\"V2\") %>%   mutate(id=row_number())%>%   inner_join(birds, by=\"id\") ### UMAP Plot umap_df %>%   ggplot(aes(x = UMAP1,               y = UMAP2,               color = type))+   geom_point()+   labs(x = \"UMAP1\",        y = \"UMAP2\",       subtitle = \"UMAP plot\")"},{"path":"/articles/umapgp-vignette.html","id":"performing-umapgp","dir":"Articles","previous_headings":"","what":"Performing UMAPgp","title":"umapgp-vignette","text":"conclusion, UMAPgp package preserves global structures better compared original UMAP package.","code":"library(UMAPgp) umapgp(var=\"type\", data=birds) #> Note: Using an external vector in selections is ambiguous. #> ℹ Use `all_of(var)` instead of `var` to silence this message. #> ℹ See <https://tidyselect.r-lib.org/reference/faq-external-vector.html>. #> This message is displayed once per session."},{"path":"/articles/umapgp-vignette.html","id":"references","dir":"Articles","previous_headings":"Performing UMAPgp","what":"References","title":"umapgp-vignette","text":"Leland McInnes, John Healy & James Melville UMAP: Uniform Manifold Approximation Projection Dimension Reduction (https://arxiv.org/pdf/1802.03426.pdf) https://towardsdatascience.com/-exactly-umap-works-13e3040e1668 https://towardsdatascience.com/-umap--superior--tsne-faa039c28e99 https://towardsdatascience.com/--program-umap--scratch-e6eff67f55fe https://www.ncbi.nlm.nih.gov/pmc/articles/PMC8547469/","code":""},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Beatrice Ngigi. Author, contributor. Catherine Nderitu. Author, maintainer. Pujan Rijal. Author, contributor.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Ngigi B, Nderitu C, Rijal P (2022). UMAPgp: Preservation Global Structure Uniform Manifold Approximation Projection (UMAP). R package version 0.1.0.","code":"@Manual{,   title = {UMAPgp: Preservation of Global Structure in Uniform Manifold Approximation and Projection (UMAP)},   author = {Beatrice Ngigi and Catherine Nderitu and Pujan Rijal},   year = {2022},   note = {R package version 0.1.0}, }"},{"path":[]},{"path":"/index.html","id":"introduction","dir":"","previous_headings":"","what":"Introduction","title":"Preservation of Global Structure in Uniform Manifold Approximation and Projection (UMAP)","text":"Uniform Manifold Approximation Projection (UMAP) preserves local structure grouping neighboring data points together provides informative visualization heterogeneity dataset. However, one wants understand relationship clusters data points, can troublesome since UMAP warrant inter-cluster distances preserved correctly. address shortcoming, created package, UMAPgp preserves global structure manifold learning algorithms without losing finer details. developed package suited process small datasets approximately 5,000 data points.","code":""},{"path":"/index.html","id":"installation-of-the-package","dir":"","previous_headings":"Introduction","what":"Installation of the package","title":"Preservation of Global Structure in Uniform Manifold Approximation and Projection (UMAP)","text":"procedure UMAPgp package installation:-","code":"$ library(devtools) $ install_github(\"https://github.com/BNgigi/UMAPgp-R-Package\") $ library(UMAPgp)"},{"path":"/index.html","id":"link-to-the-package-vignette","dir":"","previous_headings":"Introduction","what":"Link to the package vignette","title":"Preservation of Global Structure in Uniform Manifold Approximation and Projection (UMAP)","text":"-link UMAPgp Package Vignette:- Package Vignette","code":""},{"path":"/index.html","id":"example-code-block","dir":"","previous_headings":"Introduction","what":"Example code block","title":"Preservation of Global Structure in Uniform Manifold Approximation and Projection (UMAP)","text":"Use package guided :-","code":"#### Usage umapgp(var, data) var: A variable of interest from the dataframe, it should be categorical. data: The dataset to be used for analysis, it should be a dataframe with no rownames. #### Example library(UMAPgp) data(\"iris\") umapgp(var=\"Species\", data=iris)"},{"path":"/reference/umapgp.html","id":null,"dir":"Reference","previous_headings":"","what":"UMAPgp: Uniform Manifold Approximation and Projection Global Preservation — umapgp","title":"UMAPgp: Uniform Manifold Approximation and Projection Global Preservation — umapgp","text":"Computes Uniform Manifold Approximation Projection (UMAP) preserving global structures.","code":""},{"path":"/reference/umapgp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"UMAPgp: Uniform Manifold Approximation and Projection Global Preservation — umapgp","text":"","code":"umapgp(var, data)"},{"path":"/reference/umapgp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"UMAPgp: Uniform Manifold Approximation and Projection Global Preservation — umapgp","text":"var variable interest dataset; categorical. data dataset used; dataframe rownames.","code":""},{"path":"/reference/umapgp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"UMAPgp: Uniform Manifold Approximation and Projection Global Preservation — umapgp","text":"object class umap, containing atleast component embedding component configuration settings","code":""},{"path":"/reference/umapgp.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"UMAPgp: Uniform Manifold Approximation and Projection Global Preservation — umapgp","text":"Create, modify, delete columns `mutate()` adds new variables preserves existing ones `rename()` renames columns Subset columns using names types `select()` picks variable basedon names `()`selection helper selects variables function returns TRUE Assign row names `column_to_rownames()` assigns row names dataframe Scaling columns matrix `scale()`centers scales columns numeric matrix Mutating joins `inner_join()`inner join merge operation two data frame seeks return records matched two data frames Data visualization `ggplot()`used declare input data frame graphic specify set plot aesthetics intended common throughout subsequent layers unless specifically overridden","code":""},{"path":"/reference/umapgp.html","id":"umapgp-functions","dir":"Reference","previous_headings":"","what":"UMAPgp functions","title":"UMAPgp: Uniform Manifold Approximation and Projection Global Preservation — umapgp","text":"UMAPgp function umapgp","code":""},{"path":"/reference/umapgp.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"UMAPgp: Uniform Manifold Approximation and Projection Global Preservation — umapgp","text":"Robert E Tarjan Mihalis Yannakis.(1984). Simple Linear-time algorithms test chordality graphs, test acyclicity hypergraphs. Leland McInnes, John Healy & James Melville UMAP: Uniform Manifold Approximation Projection Dimension Reduction","code":""},{"path":"/reference/umapgp.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"UMAPgp: Uniform Manifold Approximation and Projection Global Preservation — umapgp","text":"Beatrice, Pujan, Catherine","code":""},{"path":"/reference/umapgp.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"UMAPgp: Uniform Manifold Approximation and Projection Global Preservation — umapgp","text":"","code":"umapgp(var=\"Species\",data=iris)"}]
